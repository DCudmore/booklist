import{r as n,j as e,c as m,d as p,e as v,f,g as b,i as y,a as B,b as N}from"../chunks/chunk-Bd4qTN_K.js";function w({hideOverlay:o,children:s}){const r=a=>{a.key==="Escape"&&o()};n.useEffect(()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[]);const l=a=>{a.preventDefault();const t=a.target;t.className.length>0&&t.className.includes("overlay-wrapper")&&o()};return e.jsx("div",{className:"overlay-wrapper",onClick:a=>l(a),children:e.jsx("div",{className:"overlay-wrapper-inner",children:s})})}const u={id:0,name:"",price:0,category:"",description:""},E=["Arts","Biographies","Business","Gaming","Education","Engineering","Health","History","Law","Literature","Nonfiction","Travel","Other"],h=({book:o,hideOverlay:s})=>{const r=m(),l=p(i=>i.books.value),[a,t]=n.useState(u),[d,x]=n.useState("");n.useEffect(()=>{if(o)t(o);else{let i=0;l.forEach(c=>{c.id>i&&(i=c.id)}),t({...a,id:i+1})}},[o]);const g=i=>{if(i.preventDefault(),!a.name||!a.price||!a.category||!a.description){const j=["name","price","category","description"].filter(k=>!a[k]);x(`Please fill out all fields. Missing: ${j.join(", ")}.`);return}r(o?f(a):v(a)),t(u),s()};return e.jsx(w,{hideOverlay:s,children:e.jsxs("div",{children:[e.jsx("h2",{className:"update-book-heading",children:o?"Update Book Details":"Add Book"}),e.jsxs("form",{className:"book-details-form",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{type:"text",name:"name",id:"name",value:a.name,onChange:i=>t({...a,name:i.target.value}),"aria-label":"Book name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",children:"Price"}),e.jsxs("div",{className:"price-input-container",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",name:"price",id:"price",value:a.price,onChange:i=>t({...a,price:Math.round(parseFloat(i.target.value)*100)/100}),"aria-label":"Book price",className:"price-input"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",children:"Category"}),e.jsxs("select",{name:"category",id:"category",value:a.category,onChange:i=>t({...a,category:i.target.value}),"aria-label":"Book category",children:[e.jsx("option",{value:""}),E.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",children:"Description"}),e.jsx("textarea",{rows:5,name:"description",id:"description",value:a.description,onChange:i=>t({...a,description:i.target.value}),"aria-label":"Book description"})]}),d&&e.jsx("p",{className:"error",children:d}),e.jsx("button",{type:"submit",onClick:g,className:"add-book","aria-label":"Submit",children:o?"Update Book":"Add Book"})]})]})})},C={Arts:"#00b894",Biographies:"#00cec9",Business:"#0984e3",Gaming:"#6c5ce7",Education:"#1289A7",Engineering:"#fdcb6e",Health:"#e17055",History:"#d63031",Law:"#e84393",Literature:"#2d3436",Nonfiction:"#EE5A24",Travel:"#B53471",Other:"#0652DD"},D=({book:o})=>{const[s,r]=n.useState(!1),l=m(),a=()=>{l(b(o.id))};return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"book-list-item",children:[e.jsx("div",{className:"book-name",onClick:()=>r(!0),children:o.name}),e.jsxs("div",{className:"book-price",children:["$",o.price.toFixed(2)]}),e.jsx("div",{className:"book-category",children:e.jsx("span",{style:{backgroundColor:C[o.category]||"#000"},className:"book-category-item",children:o.category})}),e.jsx("div",{className:"book-actions",children:e.jsx("button",{onClick:a,"aria-label":"Remove book",className:"delete-book",children:"Remove"})})]}),s&&e.jsx(h,{book:o,hideOverlay:()=>r(!1)})]})},S=()=>{const o=p(s=>s.books.value);return e.jsx("div",{id:"book-list-container",children:o.length>0?e.jsxs("ul",{id:"book-list",children:[e.jsxs("li",{className:"book-list-item",children:[e.jsx("div",{className:"book-name",children:"Name"}),e.jsx("div",{className:"book-price",children:"Price"}),e.jsx("div",{className:"book-category",children:"Category"}),e.jsx("div",{className:"book-actions"})]}),o.map(s=>e.jsx(D,{book:s},s.id))]}):e.jsx("p",{id:"no-books-found",children:"No books found. Click 'Add Book' to add a new book"})})};function P(){const[o,s]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"page-header",children:[e.jsx("h1",{children:"Your Booklist"}),e.jsx("button",{onClick:()=>s(!0),"aria-label":"Add book",className:"add-book",children:"+ Add Book"})]}),o&&e.jsx(h,{book:null,hideOverlay:()=>s(!1)}),e.jsx(S,{})]})}const A=Object.freeze(Object.defineProperty({__proto__:null,Page:P},Symbol.toStringTag,{value:"Module"})),T=[{configName:"onPageTransitionEnd",importPath:"/renderer/+onPageTransitionEnd.ts",isValueFile:!0,exportValues:y},{configName:"onPageTransitionStart",importPath:"/renderer/+onPageTransitionStart.ts",isValueFile:!0,exportValues:B},{configName:"onRenderClient",importPath:"/renderer/+onRenderClient.tsx",isValueFile:!0,exportValues:N},{configName:"Page",importPath:"/pages/index/+Page.tsx",isValueFile:!0,exportValues:A}],V={onBeforeRenderEnv:{valueSerialized:"null",type:"computed",definedAtData:null},dataEnv:{valueSerialized:"null",type:"computed",definedAtData:null},hydrationCanBeAborted:{valueSerialized:"true",type:"classic",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]}}};export{T as configValuesImported,V as configValuesSerialized};
